\chapter{Tecniche di Brute Force}
Quando un hacker utilizza la forza bruta per sferrare un attacco brute force, solitamente lo fa per risalire a una password, a un PIN o a una chiave crittografica.

In pratica, l'hacker tenta di accedere a un account o a dei file protetti utilizzando un metodo automatizzato che procede per tentativi fino ad ottenere l'accesso desiderato.

Questo metodo, chiamato in inglese trial-and-error (tentativo ed errore), non richiede l'uso di algoritmi complessi ma semplicemente di tempo e potenza di calcolo.

L'attacco forza bruta è, sostanzialmente, l'equivalente di provare tutte le chiavi presenti nel proprio portachiavi fino a trovare quella giusta per aprire la porta di casa.

In ambito informatico, la serratura è l'account o il file a cui si vuole accedere, mentre le chiavi sono tutte le password possibili.

Ovviamente, tali password sono moltissime e quindi sarebbe impossibile procedere per tentativi manualmente, ma programmi appositi sono in grado di eseguire numerosi tentativi in intervalli di tempo molto brevi.

Per eseguire un attacco di forza bruta si può ricorrere a diversi metodi, che possono essere riconducibili alle tipologie elencate di seguito.
\section{Offline Attack}

Un utente malintenzionato può ottenere un hash della tua password che può portare offline \cite{Offline_attack} e provare a decifrarlo.

Un hash è solo una forma di crittografia unidirezionale. Quando il tuo computer salva la tua password, non salva (o non dovrebbe) salvarla in chiaro. Invece, esegue l'hashing della tua password e la salva. Quindi, ad esempio, se la tua password è Password123, il tuo computer memorizzerà: 42f749ade7f9e195bf475f37a44cafcb. In questo modo, se qualcuno è in grado di leggere la memoria del tuo computer, non sarà in grado di sapere qual è la tua password.

Ora, quando accedi al tuo computer, il computer prende ciò che hai inserito nella richiesta della password, calcola un hash e confronta quell'hash con quello che ha memorizzato quando hai impostato la password. Se le password corrispondono, ti viene concesso l'accesso. Un attacco con password offline porterà questo hash offline e cercherà di trovare il valore di testo non crittografato che calcola su quell'hash. Per fare ciò, un utente malintenzionato utilizza un computer per prendere le password, calcola l'hash e lo confronterà molto rapidamente. Questa operazione verrà eseguita più e più volte fino a quando non verrà trovata una corrispondenza.

La differenza tra attacchi di password offline e online è enorme. In un attacco con password offline, l'autore dell'attacco non tenta mai di accedere al server delle applicazioni. Ciò significa che è invisibile al team di sicurezza e ai log. Ciò significa anche che le protezioni comuni come i blocchi degli account non funzioneranno. Questo perché l'attaccante lo porterà offline, troverà la password e quindi solo un tentativo corretto verrà registrato dall'applicazione.

Un'altra importante differenza tra gli attacchi di password offline e online è la velocità. Mentre gli attacchi con password online sono limitati dalla velocità della rete, gli attacchi con password offline sono limitati solo dalla velocità del computer che l'aggressore sta utilizzando per violarli. Per contestualizzare, abbiamo una macchina di cracking che può tentare 3 miliardi di tentativi di password al secondo. Ciò significa che una password di 8 caratteri può essere brutalmente forzata (ogni possibile combinazione di caratteri) in meno di 3 giorni.

Parte fondamentale del Brute Force è l'utilizzo di strumenti adeguati in base all'operazione da svolgere.
Esistono molti programmi per recuperare le password dai Hash, i più famosi per l'utilizzo offline sono :
\begin{itemize}
    \item \textbf{HASHCAT}\cite{hashcat}
    \item \textbf{JOHN THE RIPPER}\cite{John_The_Ripper}
\end{itemize}
Questi consentono di decifrare una password andando a utilizzare diverse tecniche di Brute Force, con versatilità e velocità.
Inoltre hanno il supporto alla maggior parte dei tipi di criptazione e sono in grado sia di utilizzare la potenza computazionale della CPU e della GPU.

\section{Brute Force Attack}
Un attacco di forza bruta \cite{Brute_attack}\cite{Brute_attack2} è un tentativo di decifrare una password o un nome utente oppure di trovare una pagina web nascosta o la chiave utilizzata per crittografare un messaggio utilizzando l'approccio della prova e dell'errore con la speranza, alla fine, di indovinare. Si tratta di un vecchio metodo di attacco, ma è ancora efficace e molto usato dagli hacker.
A seconda della lunghezza e complessità della password, la sua individuazione può richiedere da pochi secondi a molti anni.

\begin{table}[h]
    \centering
    \begin{tabular}{ |c|c|c|c| }
        \hline
        Key Lenght (Chars) & Time To Decrypt           \\
        \hline
        8    & 15 min \\
        \hline
        9    & 14 hours \\
        \hline
        10    & 457 hours \\
        \hline
        11    & 3.3 years \\
        \hline
        12    & 214 years \\
        \hline
    \end{tabular}
    \label{fig:brute}
    \caption{Tempo di Brute-Force (Password che comprende 0-9,a-z,A-Z)\cite{hashcrack}}
\end{table}

\section{Dictionary Attack}
Questo tipo di attacco \cite{Dictionary_attack} è forse quello più usato nell’ambito del Password Cracking. Perché permette di ottenere buoni risultati se il dizionario usato è completo e se le regole (rules) sono efficaci.

Il funzionamento è semplice, l’algoritmo segue questi step:
\begin{itemize}
    \item \textbf{Step 1}\newline Si prende la password in chiaro dal Dizionario e si genera l’hash (encrypt).
    \item \textbf{Step 2}\newline Si compara l’hash generato con l’hash della password da craccare.
    \item \textbf{Step 3}\newline Nel caso in cui l’hash non corrisponda, ritorna allo Step 1. \newline Nel caso in cui l’hash corrisponda, la password è stata trovata.
\end{itemize}

Proteggersi da questo attacco è semplice. Basta scegliere delle password non troppo convenzionali e banali.

Il successo di un attacco dipende largamente dal dizionario utilizzato, ma anche dal tipo di rules che applichiamo ad ogni voce del dizionario. Le “regole“, in generale, permettono di generare più varianti di una singola voce nel dizionario. Ad esempio, una possibile regola potrebbe essere denotata con "\textbf{-pl}" ad indicare al nostro software di cracking di effettuare e testare anche il plurale di ogni voce nel dizionario. Oppure "\textbf{[0-9]}" ad indicare di testare per ogni voce nel dizionario anche la variante che prevede un numero da 0 a 9 posto alla fine della stringa. I software di password cracking che permettono attacchi dizionario quasi sempre prevedono la possibilità di applicare regole. E’ anche importante saper configurare il nostro software per sfruttare le caratteristiche comuni e statisticamente più usate nella scelta di una password.

Nella rete possiamo trovare molti dizionari, ormai diventati standard grazie allora loro vasta scelta di password contenute e alla loro suddivisione per tipo ( password account / wi-fi / ecc ecc ), uno dei più utilizzati è \textbf{rockyou}, che contiene 14,341,564 password uniche , usate in 32,603,388 account.

Inoltre grazie a diversi strumenti possiamo generarci dei dizionari personalizzati, in base ad esempio ad alcune informazioni che abbiamo recuperato sulla vittima del nostro attacco, lo strumento che ci permette di fare questo è \textbf{CRUNCH}\cite{CRUNCH}, che attraverso il seguente comando permette la creazioni di dizionari personalizzati :
\begin{lstlisting}[ caption={Esempio crunch command}, style=javaScriptCode]
root@kali:~# crunch <min> <max> [opzioni]
\end{lstlisting}
Dove min e max sono parametri obbligatori e rispettivamente sono la minima e la massima lunghezza delle stringhe da generare.
Inserendo solamente il minimo e massimo, crunch creerà una lista alfabetica.
Se invece inseriamo dei caratteri dopo il minimo e il massimo, utilizzerà quelli per creare la lista
Per salvare l’output, l’opzione è -o
\begin{lstlisting}[caption={Esempio crunch command}, style=javaScriptCode]
root@kali:~# crunch 3 5 123abc -o lista.txt
\end{lstlisting}
Inoltre fare qualcosa di più specifico, come utilizzare una parola ma inserire dei caratteri speciali, numeri e lettere solo in determinati punti, basta inserire la chiocciola per indicare dove inserire le lettere, per i caratteri speciali, prima del carattere bisogna digitare ‘\symbol{92}’ (cosiddetto carattere di escape). La percentuale indica invece che vogliamo dei numeri al posto delle lettere dell’alfabeto, mentre il minimo e il massimo devono coincidere con la lunghezza della stringa definita.
\begin{lstlisting}[caption={Esempio crunch command}, style=javaScriptCode]
root@kali:~# crunch 14 14 -t \!@@Mr.Touch@@\% -o listaparole.txt

    Crunch will now generate the following amount of data: 68546400 bytes

    65 MB

    Crunch will now generate the following number of lines: 4569760

    !aaMr.Touchaa0

    !aaMr.Touchaa1

    ......
\end{lstlisting}
\section{Rainbow Table Attack}
Una tavola arcobaleno \cite{Rainbow_table_attack} è solo uno dei tanti potenti strumenti nell'arsenale dei criminali informatici di oggi.

Una tabella arcobaleno è un vasto repository di dati che viene utilizzato per attaccare non la password stessa, ma il metodo fornito dalla sicurezza della crittografia fornita dall'hash. In effetti, è una vasta libreria di password in chiaro e i valori di hash che corrispondono a ogni password. Gli hacker confrontano l'hash della password di un utente con tutti gli hash esistenti nel database. Questo può rivelare rapidamente quale password in chiaro è legata a un determinato hash. Inoltre, più di un testo può produrre lo stesso hash - e questo è abbastanza buono per i criminali informatici poiché in realtà non hanno bisogno di conoscere la vera password, qualsiasi combinazione di simboli che autentica il loro accesso lo farà.

Le Rainbow Table presentano alcuni distinti vantaggi rispetto ad altri metodi per decifrare le password. L'esecuzione della funzione hash non è il problema per i criminali informatici in questione, poiché tutto è precompilato e i database contenenti tutte le informazioni di cui hanno bisogno sono disponibili online. In effetti, ciò che devono eseguire è solo una semplice operazione di ricerca e confronto su una tabella.

Tuttavia, gli attacchi arcobaleno non sono lo strumento universale per gli hacker. Hanno i loro limiti, come l'enorme quantità di spazio di archiviazione necessaria per archiviare le tabelle che utilizzano - e le tabelle in questione sono davvero piuttosto grandi. Le dimensioni regolari di una tabella arcobaleno contenente gli hash di tutte le possibili 8 password dei simboli che includono la maggior parte dei simboli che si possono pensare possono essere grandi quanto 160 GB - e lo spazio di archiviazione necessario per l'inclusione di password più lunghe nella tabella aumenta esponenzialmente con ogni bit aggiunto.
Per evitare di cadere vittime di un attacco Rainbow Table, oltre a seguire tutte le buone pratiche durante la creazione di una password, questo tipo di attacchi possono essere facilmente prevenuti utilizzando la tecnica del Salt da parte dello sviluppatore del sistema IT in questione. Salt è un bit casuale di dati che viene passato nella funzione hash insieme al testo in chairo. Ciò garantisce che ogni password abbia un hash generato univoco, rendendo impossibile eseguire questo tipo di attacco.

\section{Rule Attack}
L'attacco basato su regole\cite{Rule_based} è come un linguaggio di programmazione progettato per la generazione di password candidate. Ha funzioni per modificare, tagliare o estendere le parole e ha operatori condizionali per saltarne alcune. Ciò lo rende l'attacco più flessibile, accurato ed efficiente.
La prima cosa che ci viene in mente è: quali sono le regole perché dovremmo usare Rule Attack per craccare l'hash. Quindi, prima di tutto, considera il seguente scenario. Hai un elenco di password di base contenente le seguenti parole :

\begin{lstlisting}[caption={Esempio rule attack wordlist}, style=javaScriptCode]
password
mysecret
qwerty
\end{lstlisting}
Se volessi provare le password aggiungendo il pattern "123" alla fine, la lista diventerà:
\begin{lstlisting}[caption={Esempio rule attack wordlist}, style=javaScriptCode]
password
password123
mysecret
mysecret123
qwerty
qwerty123
\end{lstlisting}
Se si vuole mettere in maiuscolo anche la prima lettera delle parole originali, ora diventerà:
\begin{lstlisting}[caption={Esempio rule attack wordlist}, style=javaScriptCode]
password
password123
Password
mysecret
mysecret123
Mysecret
qwerty
qwerty123
Qwerty
\end{lstlisting}

Questo ci permette quindi di rendere più versatile il nostro attacco, andando a prendere un dizionario che abbiamo a disposizione e modificandolo in base alle nostre necessità.

\section{Mask Attack}
Gli attacchi con maschera \cite{Mask_attack} sono simili agli attacchi di forza bruta, negli attacchi di forza bruta, vengono provati tutte le possibili combinazioni esistenti. Gli attacchi con maschera sono più specifici poiché il set di caratteri che provi viene ridotto in base alle informazioni che si conosce.

Ad esempio, se si sa che l'ultimo carattere di una password è un numero, puoi configurare la maschera per provare solo i numeri alla fine. Usando i tradizionali attacchi di forza bruta, saresti comunque costretto a provare tutte le combinazioni che non sono numeri.

Ad esempio, se prendiamo la seguente password: \textbf{Maschera101}

Ha una lunghezza di 7 caratteri e per ognuno può essere maiuscolo (26 potenziali caratteri), minuscolo (26 potenziali caratteri), un simbolo (33 potenziali caratteri) o un numero (10 potenziali caratteri), noi dovrei provare un numero totale di \({95}^{7}\) (69.833.728.698.375) combinazioni.

Supponiamo ora di sapere che gli ultimi tre caratteri sono numeri. Ciò ridurrebbe drasticamente il potenziale spazio delle chiavi poiché non sarebbe necessario provare password con lettere o simboli negli ultimi tre spazi.

Ovviamente devi assicurarti che le tue informazioni sulla password siano corrette, altrimenti la tua maschera potrebbe non generare la password. Usando il mascheramento puoi anche creare maschere per sfruttare le abitudini delle password. Ad esempio, un'abitudine comune è che le password inizino con una maiuscola se ne è richiesta almeno una.

Un altro esempio in cui è possibile applicare il mascheramento è quando si conosce il pattern della password da attaccare. Molti router domestici hanno algoritmi di generazione di password predefiniti e le informazioni sulla creazione delle loro chiavi possono essere trovate online.